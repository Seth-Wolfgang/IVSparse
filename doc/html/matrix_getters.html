<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IVSparse: Matrix Getters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IVSparse
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">A sparse matrix compression library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('matrix_getters.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Matrix Getters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#getters">Getters</a></li>
<li class="level1"><a href="#csc">CSC Getters</a></li>
<li class="level1"><a href="#vcsc">VCSC Getters</a></li>
<li class="level1"><a href="#ivcsc">IVCSC Getters</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="getters"></a>
Getters</h1>
<p>There are a lot of methods that give information about the matrix. Most of these are shared between all three supported formats but a few are specific to the data structure of the format. These are the properties that are shared between all three formats which have getter methods.</p>
<ul>
<li>Rows - Returns the number of rows in the matrix</li>
<li>Columns - Returns the number of columns in the matrix</li>
<li>Inner Dimension - Returns the inner dimension of the matrix (against storage order)</li>
<li>Outer Dimension - Returns the outer dimension of the matrix (with storage order)</li>
<li>Non-Zeros - Returns the number of non-zeros in the matrix</li>
<li>Byte Size - Returns the number of bytes the matrix takes up in memory</li>
<li>Storage Order - Returns the storage order of the matrix</li>
<li>Coeff - Returns the value at a given row and column</li>
</ul>
<p>Examples of these are shown below:</p>
<div class="fragment"><div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line">matrix.print();</div>
<div class="line"> </div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Rows: &quot;</span> &lt;&lt; matrix.rows() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Columns: &quot;</span> &lt;&lt; matrix.cols() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Inner Dimension: &quot;</span> &lt;&lt; matrix.innerSize() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Outer Dimension: &quot;</span> &lt;&lt; matrix.outerSize() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Non-Zeros: &quot;</span> &lt;&lt; matrix.nonZeros() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Byte Size: &quot;</span> &lt;&lt; matrix.byteSize() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Is Column Major: &quot;</span> &lt;&lt; matrix.isColumnMajor() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;coeff at (0, 0): &quot;</span> &lt;&lt; matrix.coeff(0, 0) &lt;&lt; std::endl;</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix</a></div><div class="ttdef"><b>Definition:</b> IVCSC_SparseMatrix.hpp:29</div></div>
</div><!-- fragment --><p>The output for this program is:</p>
<div class="fragment"><div class="line">IVSparse Matrix:</div>
<div class="line"> </div>
<div class="line">1 0 0 0</div>
<div class="line">0 2 0 0</div>
<div class="line">0 0 3 0</div>
<div class="line">0 0 0 4</div>
<div class="line"> </div>
<div class="line">Rows: 4</div>
<div class="line">Columns: 4</div>
<div class="line">Inner Dimension: 4</div>
<div class="line">Outer Dimension: 4</div>
<div class="line">Non-Zeros: 4</div>
<div class="line">Byte Size: 132</div>
<div class="line">Is Column Major: 1</div>
<div class="line">coeff at (0, 0): 1</div>
</div><!-- fragment --><h1><a class="anchor" id="csc"></a>
CSC Getters</h1>
<p>The only special properties of CSC are the access methods to the underlying pointers of CSC. These pointers are the same that Eigen also has underneath their Sparse Matrix class and are simple pointer arrays to the relevant data. That means there are three methods that are specific to CSC which are:</p>
<ul>
<li>Values - Returns a pointer to the values array</li>
<li>Inner Indices - Returns a pointer to the inner indices array</li>
<li>Outer Pointers - Returns a pointer to the outer pointers array</li>
</ul>
<p>Examples of these are shown below:</p>
<div class="fragment"><div class="line"><span class="comment">// Same matrix as above</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double, uint64_t, 1&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">double</span>* valuesPtr = matrix.getValues();</div>
<div class="line">uint32_t* innerIndicesPtr = matrix.getInnerIndices();</div>
<div class="line">uint32_t* outerPointersPtr = matrix.getOuterPointers();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; matrix.nonZeros(); i++) {</div>
<div class="line">    std::cout &lt;&lt; valuesPtr[i] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output for this program is:</p>
<div class="fragment"><div class="line">1 2 3 4</div>
</div><!-- fragment --><h1><a class="anchor" id="vcsc"></a>
VCSC Getters</h1>
<p>Since VCSC is a derivative of CSC the specific getters for VCSC are similar to CSC. The main difference is that the pointers are specific to individual columns instead of the entire matrix. That means one must specify which column/row they are wanting a pointer for. The other main difference is the contents of the arrays. The values array now only holds the unique values for the column, there is a counts which holds the number of occurences of the unique values, and the indices of the values in the column. The three arrays to know of are:</p>
<ul>
<li>Unique Values - Returns a pointer to the unique values array of a column</li>
<li>Counts - Returns a pointer to the counts array of a column</li>
<li>Inner Indices - Returns a pointer to the inner indices array of a column</li>
</ul>
<p>The only issue is that one needs to know the size of the arrays in order to safely access them. For this there are two more methods now provided which are:</p>
<ul>
<li>Number of Unique Values - Returns the number of unique values in a column</li>
<li>Number of Indices - Returns the number of indices in a column</li>
</ul>
<p>Examples of these are shown below:</p>
<div class="fragment"><div class="line"><span class="comment">// Same matrix as above</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double, uint64_t, 2&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">double</span>* valuesPtr = matrix.getValues(0);</div>
<div class="line">uint32_t* countsPtr = matrix.getCounts(0);</div>
<div class="line">uint32_t* innerIndicesPtr = matrix.getIndices(0);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; matrix.getNumUniqueVals(0); i++) {</div>
<div class="line">    std::cout &lt;&lt; valuesPtr[i] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output for this program is:</p>
<div class="fragment"><div class="line">1</div>
</div><!-- fragment --><h1><a class="anchor" id="ivcsc"></a>
IVCSC Getters</h1>
<p>IVCSC is somewhat different than the other supported compression formats. Similar to IVCSC the data for each column is stored and accessed separately but the difference is that IVCSC data is stored in a contiguous byte array as opposed to three specific data arrays. This means accessing the data is very difficult without the use of the iterator. So the only additional getters for IVCSC are:</p>
<ul>
<li>Vector Size - Returns the size of the vector for a column in bytes</li>
<li>Vector Pointer - Returns a pointer to the vector for a column</li>
</ul>
<p>Examples of these are shown below:</p>
<div class="fragment"><div class="line"><span class="comment">// Same matrix as above</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double, uint64_t, 3&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line">uint32_t vectorSize = matrix.getVectorSize(0);</div>
<div class="line"><span class="keywordtype">void</span>* vectorPtr = matrix.vectorPointer(0);</div>
</div><!-- fragment --><p>These methods have much less use then the other two formats as the nature of how the data is stored in IVCSC makes it inherently difficult to access the data without the use of the iterator. These can be safely ignored but there are edge cases where they can be useful such as wanting to look into the raw memory for confirmation or to know the size of an individual vector in bytes. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 1 2023 19:28:00 for IVSparse by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
