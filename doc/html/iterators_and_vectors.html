<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IVSparse: Iterators and Vectors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IVSparse
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">A sparse matrix compression library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('iterators_and_vectors.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Iterators and Vectors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#iterators_and_vectors">Iterators and Vectors</a><ul><li class="level2"><a href="#vector">Vector</a></li>
<li class="level2"><a href="#inner_iterator">InnerIterator</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="iterators_and_vectors"></a>
Iterators and Vectors</h1>
<p>There are two subclasses of IVSparse Matrices which are Vectors and InnerIterators. The vector class is used to help interact with IVSparse Matrices and the InnerIterator class is used for simple traversal of IVSparse Matrices. This page will show the basics of how to use these two classes.</p>
<h2><a class="anchor" id="vector"></a>
Vector</h2>
<p>There are two main ways to construct a IVSparse Vector. The first is use the Vector constructor by passing in a matrix or another vector. The second is to get the vector from a matrix method call and assign it to a vector. These two ways do not include the ability to make a vector from raw data. Vectors can only be constructed from already compressed IVSparse data. Here are some examples:</p>
<div class="fragment"><div class="line"><span class="comment">// example matrix</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> exampleMatrix(values, rowIndices, colIndices, numRows, numCols, numNonZeros);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// example vector</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix&lt;double&gt;::Vector</a> exampleVector(exampleMatrix, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// get the first column of exampleMatrix</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix&lt;double&gt;::Vector</a> firstColumn = exampleMatrix.getVector(0);</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_1_1_vector_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix::Vector</a></div><div class="ttdef"><b>Definition:</b> IVCSC_Vector.hpp:25</div></div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix</a></div><div class="ttdef"><b>Definition:</b> IVCSC_SparseMatrix.hpp:29</div></div>
</div><!-- fragment --><p>Once in possession of a vector the getters are mainly the same as a matrix. The following are the primary getter methods for vectors:</p>
<ul>
<li>Coeff - returns the value at the specified index</li>
<li>Length - returns the length of the vector</li>
<li>NonZeros - returns the number of non-zero values in the vector</li>
</ul>
<p>Finally, vectors are tied to their compression level. Much like the matrices, the data of the vector is stored in the same format as the compression level specified meaning vectors only work with matrices and iterators of the same compression level. This is important to remember when working with vectors.</p>
<h2><a class="anchor" id="inner_iterator"></a>
InnerIterator</h2>
<p>The InnerIterator class is used for traversal of IVSparse Matrices. They are all forward traversal iterators that only iterate over storage order of the matrix. This means that for a column major matrix the iterator will iterate over a single column and to iterate over the entire matrix an iterator needs to be made for each column. The iterators for VCSC and IVCSC as well iterate in order of values and not indices. This breaks most helpful ordering and makes traversals for some operations like SpMM slower without index ordering. There are two containers which can be traversed, matrices and vectors. Some examples of how to use the InnerIterator class are below:</p>
<div class="fragment"><div class="line"><span class="comment">// example matrix</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> exampleMatrix(values, rowIndices, colIndices, numRows, numCols, numNonZeros);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// example vector</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix&lt;double&gt;::Vector</a> exampleVector(exampleMatrix, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// iterate over exampleMatrix column 0</span></div>
<div class="line"><span class="keywordflow">for</span> (<a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix&lt;double&gt;::InnerIterator</a> it(exampleMatrix, 0); it; ++it) {</div>
<div class="line">    <span class="comment">// do something with the iterator</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// iterate over exampleVector</span></div>
<div class="line"><span class="keywordflow">for</span> (<a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix&lt;double&gt;::InnerIterator</a> it(exampleVector); it; ++it) {</div>
<div class="line">    <span class="comment">// do something with the iterator</span></div>
<div class="line">}</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix::InnerIterator</a></div><div class="ttdef"><b>Definition:</b> IVCSC_Iterator.hpp:25</div></div>
</div><!-- fragment --><p>Once traversing a matrix or vector there are a few methods to get the information from the iterator. The following are the primary getter methods for iterators:</p>
<ul>
<li>Get Index - returns the index of the current value</li>
<li>Outer Dimension - returns the outer dimension of the matrix being iterated over</li>
<li>Row - returns the row of the current value</li>
<li>Col - returns the column of the current value</li>
<li>Value - returns the value of the iterator</li>
<li>Coeff - changes the current value of the iterator</li>
</ul>
<p>The <code>.coeff(T newValue)</code> method is the only way to change individual values of a matrix or vector. The only issue with changing values using this is that it changes the value tied to potentially multiple indices. This means that at least for VCSC and IVCSC the only way to change individual values is to change every instance of a unique value to another value. This is not recommended for use by those who are unsure of how this may cause the matrix to change or break. If one needs to change individual values VCSC and IVCSC matrices should be converted to a format that allows for this such as CSC.</p>
<p>The other getter methods are fairly self explanitory, with the most useful ones being the index and value getters.</p>
<p>Following are some examples of how to traverse a matrix and print out the matrix data:</p>
<div class="fragment"><div class="line"><span class="comment">// example matrix</span></div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> exampleMatrix(values, rowIndices, colIndices, numRows, numCols, numNonZeros);</div>
<div class="line"> </div>
<div class="line">exampleMatrix.print();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// iterate over the entire matrix</span></div>
<div class="line"><span class="keywordflow">for</span> (uint32_t i = 0; i &lt; exampleMatrix.outerSize(); i++) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">typename</span> <a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix&lt;double&gt;::InnerIterator</a> it(exampleMatrix, i); it; ++it) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; it.row() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; it.col() &lt;&lt; <span class="stringliteral">&quot;) = &quot;</span> &lt;&lt; it.value() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The above code will print out the following:</p>
<div class="fragment"><div class="line">IVSparse Matrix:</div>
<div class="line"> </div>
<div class="line">1 0 0 0</div>
<div class="line">0 2 0 0</div>
<div class="line">0 0 3 0</div>
<div class="line">0 0 0 4</div>
<div class="line"> </div>
<div class="line">(0, 0) = 1</div>
<div class="line">(1, 1) = 2</div>
<div class="line">(2, 2) = 3</div>
<div class="line">(3, 3) = 4</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 1 2023 19:28:00 for IVSparse by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
