<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IVSparse: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IVSparse
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">A sparse matrix compression library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('getting_started.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#getting_ivsparse">Getting IVSparse</a><ul><li class="level2"><a href="#install_ivsparse">Installing IVSparse</a></li>
<li class="level2"><a href="#program_ivsparse">Programming with IVSparse</a></li>
<li class="level2"><a href="#compiling_ivsparse">Compiling IVSparse</a><ul><li class="level3"><a href="#preprocessor_macros">Preprocessor Macros</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#mats_vecs_iters">Matrices, Vectors, and Iterators</a><ul><li class="level2"><a href="#matrices">Matrices</a><ul><li class="level3"><a href="#templates">Template Parameters</a></li>
<li class="level3"><a href="#levels">IVSparse Compression Levels</a></li>
</ul>
</li>
<li class="level2"><a href="#vectors">Vectors</a></li>
<li class="level2"><a href="#iterators">Iterators</a></li>
</ul>
</li>
<li class="level1"><a href="#next">Next Steps</a><ul><li class="level2"><a href="#examples">Examples</a></li>
<li class="level2"><a href="#ref">Reference Guide</a></li>
<li class="level2"><a href="#faq">FAQ</a></li>
<li class="level2"><a href="#contact">Contact</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This page serves as the main entry point for those looking to jump into coding with the IVSparse Library. This page will go through how to get IVSparse, how to compile it, how to use it, and where to learn more about it.</p>
<h1><a class="anchor" id="getting_ivsparse"></a>
Getting IVSparse</h1>
<p>To get IVSparse you need to go to our Github Repository and download the source code.</p>
<h2><a class="anchor" id="install_ivsparse"></a>
Installing IVSparse</h2>
<p>The process for installing IVSparse is similar to the process for isntalling the Eigen library. As a header library one only needs to include the path to the IVSparse directory in their compiler's include path. This is shown in how to compile IVSparse below. This is easy to do by cloning the IVSparse repository into your project directory and including the path to the IVSparse directory in your compiler's include path. Since Eigen is a required dependency of IVSparse you will also need to include the path to the Eigen library in your compiler's include path. This is also shown in how to compile IVSparse below. IVSparse does not have CMake support yet.</p>
<h2><a class="anchor" id="program_ivsparse"></a>
Programming with IVSparse</h2>
<p>Below is a simple example of how to create a IVSparse SparseMatrix object and print it out.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Eigen/Sparse&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;IVSparse/SparseMatrix&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> rows = 4;</div>
<div class="line">    <span class="keywordtype">int</span> cols = 4;</div>
<div class="line">    <span class="keywordtype">int</span> nnz = 4;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> values[4] = {1, 2, 3, 4};</div>
<div class="line">    <span class="keywordtype">int</span> rowIndices[4] = {0, 1, 2, 3};</div>
<div class="line">    <span class="keywordtype">int</span> outerPointers[5] = {0, 1, 2, 3, 4};</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;int&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line">    matrix.print();</div>
<div class="line">}</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix</a></div><div class="ttdef"><b>Definition:</b> IVCSC_SparseMatrix.hpp:29</div></div>
</div><!-- fragment --><p>The output for this program is:</p>
<div class="fragment"><div class="line">IVSparse Matrix:</div>
<div class="line"> </div>
<div class="line">1 0 0 0</div>
<div class="line">0 2 0 0</div>
<div class="line">0 0 3 0</div>
<div class="line">0 0 0 4</div>
</div><!-- fragment --><h2><a class="anchor" id="compiling_ivsparse"></a>
Compiling IVSparse</h2>
<p>To compile IVSparse you need to include the path to IVSparse and Eigen in your compiler's include path.</p>
<p><code>g++ test.cpp -I /path/to/IVSparse -I /path/to/Eigen -o test</code></p>
<p>To activate the parallel sections run with the <code>-fopenmp</code> flag. Running with the <code>-02</code> optimization flag is also recommended.</p>
<h3><a class="anchor" id="preprocessor_macros"></a>
Preprocessor Macros</h3>
<p>Parallelism is on by default when running with <code>-fopenmp</code> but can be turned off by defining <code>IVSPARSE_DONT_PARALLEL</code> before including IVSparse.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define IVSPARSE_DONT_PARALLEL</span></div>
<div class="line"><span class="preprocessor">#include &lt;IVSparse/SparseMatrix&gt;</span></div>
</div><!-- fragment --><p>To turn off debugging flags define <code>IVSPARSE_DEBUG_OFF</code> before including IVSparse.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define IVSPARSE_DEBUG_OFF</span></div>
<div class="line"><span class="preprocessor">#include &lt;IVSparse/SparseMatrix&gt;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="mats_vecs_iters"></a>
Matrices, Vectors, and Iterators</h1>
<p>The three formats supported by IVSparse all have their specific matrix implementations but also have their own vector and iterator implementations as well. The only conversion between formats however happens on a matrix level. This means a IVCSC Vector can only be created from a IVCSC Matrix and not later turned directly into a CSC vector.</p>
<h2><a class="anchor" id="matrices"></a>
Matrices</h2>
<p>There are three matrix formats to keep track of. These are CSC, VCSC, and IVCSC. These stand for Compressed Sparse Column (CSC), Value Compressed Sparse Column (VCSC), and Index and Value Compressed Sparse Column (IVCSC). Each one has its own implementation of data storage.</p>
<h3><a class="anchor" id="templates"></a>
Template Parameters</h3>
<p>There are four template parameters to know of for IVSparse as shown below.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define VALUE_TYPE double</span></div>
<div class="line"><span class="preprocessor">#define INDEX_TYPE uint64_t</span></div>
<div class="line"><span class="preprocessor">#define COMPRESSION_LEVEL 3</span></div>
<div class="line"><span class="preprocessor">#define COLUMN_MAJOR true</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;VALUE_TYPE, INDEX_TYPE, COMPRESSION_LEVEL, COLUMN_MAJOR&gt;</a> matrix;</div>
</div><!-- fragment --><p>The first template parameter is the value type of the matrix, which must be specified at compile time. Index type is the next one and is the type used to store indices of the matrix. The default value for index type is a <code>uint64_t</code> The third is the compression level desired. Level 1 is CSC, level 2 is VCSC, and level 3 is IVCSC. The default for this template paramter is compression level 3, IVCSC. The last template parameter is the major order of the matrix. This is a boolean value with true being column major and false being row major. The default value for this template parameter is true, column major.</p>
<p>Since everything but the value type has a defiend default the above code can be simplified to:</p>
<div class="fragment"><div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> matrix;</div>
</div><!-- fragment --><h3><a class="anchor" id="levels"></a>
IVSparse Compression Levels</h3>
<p>There are currently three supported sparse matrix compression formats in IVSparse. These are CSC, VCSC, and IVCSC. These are all different ways of storing sparse data and have different advantages and disadvantages. The diagram below shows the differences between the different levels.</p>
<p><img src="/doc/doc_pages/images/levels_fig.png" alt="IVSparse Levels Diagram" class="inline"/></p>
<p><em>CSC</em></p>
<p>CSC is used often in the storage and use of sparse data and is supported here to allow for easy interoperability with other libraries and to allow for easy transition between compression levels. CSC is also the fastest format to traverse and is the default format for Eigen Sparse Matrices.</p>
<p><em>VCSC</em></p>
<p>VCSC is a derivative of CSC meant to implement value compression on redundant values. This is done by storing only the unique values of each column/row and the number of occurances of each value. This means there are three arrays per outer dimension, the values, the counts, and the inner indices of the values. This format has fast scalar operations and is somewhat fast to traverse due to the counts array. This format also needs to have a fair amount of redundant values to benefit over CSC and is not recommended for data that is mostly unique.</p>
<p><em>IVCSC</em></p>
<p>IVCSC is the format meant to focus primarily on compressing. This is done by compressing both indices as well as values. Firstly, IVCSC stores each column in its own contiguous block of memory. Inside each column's memory is a series of runs. Runs are associated with each unique value in the column. Runs are sorted by unique value in ascending order. The format of a run is the value, the width of the follwing indices, the indices associated with the unique value positive delta encoded, and finally a delimiter to signify the end of a run. IVCSC uses both index and value compression to achieve the highest compression ratio. The values are compressed by only storing the unique values of each column and the indices for each individual run are positive delta encoded and then bytepacked into the smallest usable size. This format is the slowest to traverse but has the highest compression ratio, that isn't to say one can't do operations with IVCSC they just won't be quite as fast as a CSC matrix.</p>
<h2><a class="anchor" id="vectors"></a>
Vectors</h2>
<p>Vectors are a matrix with a single row or column. In IVSparse matrices can have a single row or column but are still considered matrices. For working specifically with vectors there is a vector sublclass provided. The vector subclass is meant to allow for manipulation of sparse matrices. Vectors are used to slice, append, and otherwise manipulate an otherwise read only format matrix. The vectors also are tied to their compression level and only work with matrices of the same compression level. Otherwise they work very similar to their matrix counterparts. Below an example of how to get a vector is shown.</p>
<div class="fragment"><div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix&lt;double&gt;::Vector</a> vector(matrix, 0);</div>
<div class="line"> </div>
<div class="line">vector.print();</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_1_1_vector_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix_1_1_vector.html">IVSparse::SparseMatrix::Vector</a></div><div class="ttdef"><b>Definition:</b> IVCSC_Vector.hpp:25</div></div>
</div><!-- fragment --><p>The output for this program using the same matrix from above is:</p>
<div class="fragment"><div class="line">IVSparse Vector:</div>
<div class="line"> </div>
<div class="line">1 0 0 0</div>
</div><!-- fragment --><h2><a class="anchor" id="iterators"></a>
Iterators</h2>
<p>In IVSparse we have iterators made for each compression level to traverse their specific data structures. Each iterator is a forward traversal iterator meant to iterate over one column at a time. For this reason they are called inner iterators. So to traverse a matrix you need to iterate over each column with a new iterator. Iterators are also tied to their compression level and only work with matrices of the same compression level. It's also worth noting they work very similar to an Eigen inner iterator and they also can iterate over IVSparse vectors the same way. Below is an example of how to use an iterator.</p>
<div class="fragment"><div class="line"><a class="code" href="class_i_v_sparse_1_1_sparse_matrix.html">IVSparse::SparseMatrix&lt;double&gt;</a> matrix(values, rowIndices, outerPointers, rows, cols, nnz);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> sum = 0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Traverse over the entire matrix</span></div>
<div class="line"><span class="keywordflow">for</span> (uint32_t i = 0; i &lt; outerDim; ++i) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">typename</span> <a class="code" href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix&lt;double&gt;::InnerIterator</a> it(matrix, i); it; ++it) {</div>
<div class="line">        sum += it.value();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">std::cout &lt;&lt; sum &lt;&lt; std::endl;</div>
<div class="ttc" id="aclass_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator_html"><div class="ttname"><a href="class_i_v_sparse_1_1_sparse_matrix_1_1_inner_iterator.html">IVSparse::SparseMatrix::InnerIterator</a></div><div class="ttdef"><b>Definition:</b> IVCSC_Iterator.hpp:25</div></div>
</div><!-- fragment --><p>Using the same diagonal matrix from previous examples sum would be equal to <code>1 + 2 + 3 + 4</code> which is <code>10</code>.</p>
<h1><a class="anchor" id="next"></a>
Next Steps</h1>
<p>Now that you have the basics down you can either start coding with IVSparse or you can dig deeper in the examples, reference guide, FAQ, or contact us directly.</p>
<h2><a class="anchor" id="examples"></a>
Examples</h2>
<p>See our examples section to get more examples on how to use IVSparse and the compression formats it supports.</p>
<h2><a class="anchor" id="ref"></a>
Reference Guide</h2>
<p>Look at the reference guide to see all the functionality offered by IVSparse in more detail.</p>
<h2><a class="anchor" id="faq"></a>
FAQ</h2>
<p>If we end up making a FAQ this is where a link to it will be!</p>
<h2><a class="anchor" id="contact"></a>
Contact</h2>
<p>To contact us the best way is to leave a request on the Github repo but you can also email us at <a href="#" onclick="location.href='mai'+'lto:'+'rui'+'te'+'rsk'+'@m'+'ail'+'.g'+'vsu'+'.e'+'du'; return false;">ruite<span style="display: none;">.nosp@m.</span>rsk@<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>gvsu<span style="display: none;">.nosp@m.</span>.edu</a> or at <a href="#" onclick="location.href='mai'+'lto:'+'wol'+'fg'+'ans'+'@m'+'ail'+'.g'+'vsu'+'.e'+'du'; return false;">wolfg<span style="display: none;">.nosp@m.</span>ans@<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>gvsu<span style="display: none;">.nosp@m.</span>.edu</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 1 2023 19:28:00 for IVSparse by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
